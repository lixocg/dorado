package com.experian.daas.web.integration.channels.litigation.controller;

import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import com.experian.daas.integration.channel.litigation.pojo.LitigationAPIPojos;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.TypeAdapter;
import com.google.gson.stream.JsonReader;
import com.google.gson.stream.JsonToken;
import com.google.gson.stream.JsonWriter;

public class DateTypeAdapter extends TypeAdapter<Date> {
	@Override
	public void write(JsonWriter out, Date value) throws IOException {
		if (value == null) {
			out.nullValue();
		} else {
			out.value(value.getTime());
		}
	}

	@Override
	public Date read(JsonReader in) throws IOException {
		if (in.peek() == null || in.peek() == JsonToken.NULL) {
			in.skipValue();
			return null;
		}
		String str = in.nextString();
		SimpleDateFormat format1 = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
		SimpleDateFormat format2 = new SimpleDateFormat("yyyy-MM-dd");
		Date d = null;
		try {
			d = format1.parse(str);
		} catch (ParseException e) {
			try {
				d = format2.parse(str);
			} catch (ParseException e1) {
				e1.printStackTrace();
			}
		}
		return d;
	}

	public static void main(String[] args) {
		Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateTypeAdapter()).create();
		String json = "{\"token\":\"8cd5b29e0b86315979e224f14780e244\",\"data\":[{\"litigationParsedDataDetail\":{\"id\":\"278678\",\"parsedDataId\":\"109\",\"crawledDataId\":\"80591\",\"numNonEmpty\":\"0\",\"caseNumber\":\"（2014）额民一初字第608号\",\"previousCaseNumber\":null,\"caseCategoryId\":\"2\",\"accuseDate\":\"2014-09-29 00:00:00\",\"courtId\":\"3328\",\"caseTitle\":\"黄怀斌与新疆苏建建工股份有限公司、袁志强、张荣买卖合同纠纷一审民事判决书\",\"accuseStatus\":\"审理完毕\",\"accuserListNoAnonymous\":\"[黄怀斌]\",\"appuserListNoAnonymous\":\"[新疆苏建建工股份有限公司,袁志强,张荣]\",\"partyListNoAnonymous\":null,\"simpleDetail\":\"买卖合同纠纷\",\"details\":\"黄怀斌与新疆苏建建工股份有限公司、袁志强、张荣买卖合同纠纷一审民事判决书\n提交日期：2015年08月27日22时39分\n\n\n新疆维吾尔自治区额敏县人民法院\n民 事 判 决 书\n（2014）额民一初字第608号\n原告：黄怀斌，男，1942年2月15日出生，汉族，住额敏县。\n委托代理人：耿新龙，额敏县国银法律服务所法律工作者。\n被告：新疆苏建建工股份有限公司，住所地：乌鲁木齐经济技术开发区。\n负责人：孙君伟，系该公司经理。\n委托代理人：张忠，新疆西陲律师事务所律师。\n委托代理人：黄远林，男，1968年3月23日出生，新疆苏建建工股份有限公司额敏分公司经理，住额敏县。\n被告：袁志强，男，1971年10月27日出生，汉族，建筑个体，现住农九师。\n被告：张荣，男，1969年7月12日出生，汉族，个体，住农九师。\n原告黄怀斌与被告新疆苏建建工股份有限公司（以下简称苏建公司）买卖合同纠纷一案，本院于2014年6月9日立案受理后，依法由审判员黄宝珠适用简易程序于2014年7月7日公开开庭进行了审理，因需追加张荣参加诉讼延期审理，于2014年9月16日继续公开开庭进行了审理。原告黄怀斌及其委托代理人耿新龙、被告苏建公司的委托代理人张忠、黄远林、被告袁志强、张荣到庭参加诉讼。本案现已审理完毕。\n原告黄怀斌诉称，2012年5月至9月期间，被告在兴建额敏县清真寺时在原告处赊购木材共计120020元，当时被告向原告承诺过段时间付款，经原告多次催要，被告只给付50000元，尚欠木材款70020元。后原告多次向被告索要余款，被告一直以种种理由推拖至今。为维护原告合法权益，故提起诉讼请求判令：1、被告苏建公司和张荣偿还欠款70020元；2、被告承担本案诉讼费及其他一切费用。\n被告苏建公司辩称，被告不承担给付责任。额敏县清真寺工程是塔城刚坚公司开发，与被告签订了工程合同，被告是承建方，张荣是被告承建的清真寺的项目经理，被告又将工程以内部分包的形式转包给张荣，袁志强与顾建江都是张荣聘的工作人员，刚开始由被告在施工，后张荣离开后，工程仍然用被告的名义在建，但实际负责人是顾建江，且本案原告的木材也是顾江建购买的，第一笔5万元木材款也是顾江建支付的，木材款也应属于工程款的一部分，故原告的木材款应当由顾江建或是刚坚公司支付。\n被告袁志强辩称，我是张荣和孟志刚聘请的清真寺项目的负责人，当时被告和张荣一起到原告的木材厂，张荣和孟志刚当时是合作关系，当时口头协议被告在原告处购买材料，以被告的签字为准。我签字购买的木材都用在了清真寺，所以木材款应当由苏建公司清真寺项目部支付。\n被告张荣辩称，清真寺项目，是被告苏建公司承建的工程，发包给被告的，袁志强和顾江建都是被告聘的工作人员，袁志强和顾江建认可的票据，被告就认可。该工程刚开始是被告在承建，后2012年7月份被告离开工地，将工地交给顾建江和袁志强负责，工程一直以苏建公司的名义在承建，现在工程已经完工了，被告没有拿到一分钱，工程款应该从塔城刚坚公司结算，但刚坚公司说苏建公司没有参与管理，不给支付工程款。顾江建已经从清真寺领取了250万元工程款，被告没有拿工程款，所以不承担原告的木材款。\n经审理查明，2012年5月15日，被告苏建公司（乙方）与塔城地区刚坚房地产开发有限公司（甲方）签订《额敏县维族清真寺施工协议》。同日，苏建公司与被告张荣因上述清真寺工程项目签订内部承包经营管理协议，约定苏建公司授权张荣在该公司资质的经营范围内进行施工承包活动，张荣向苏建公司缴纳管理费等内容。张荣系苏建公司清真寺项目部管理人员。2012年5月10日，张荣聘请袁志强为清真寺项目现场负责人。张荣认可袁志强出具的黄胜木材厂所签的欠条及额敏县正泰电器所签的电器清单的行为系履行职务行为。2012年5月16日至2012年8月5日期间，袁志强在原告处购买木材共计120020元。2012年12月期间，原告在清真寺项目部收到5万元木材款。剩余木材款，原告至今未收到，遂将被告起诉至本院。\n本院认为，被告袁志强购买原告木材120020元是事实，有被告袁志强向原告出具的欠条为证，且双方对该事实均无异议，本院予以确认。原告认可已收取5万元木材款，应当扣除。本案争议焦点为剩余涉案木材款应由谁支付。被告苏建公司承包清真寺工程后，以内部承包形式将该工程包给被告张荣。张荣聘请袁志强为清真寺项目现场负责人，且认可袁志强出具的欠条为职务行为。故袁志强与原告之间的木材买卖合同所欠的债务，应由内部承包人张荣承担，承包企业苏建公司对此债务承担连带清偿责任。据此，依照《中华人民共和国合同法》第一百三十条、第一百五十九条、《中华人民共和国民事诉讼法》第一百四十二条的规定，判决如下：\n一、被告张荣于本判决生效之日一次性支付原告黄怀斌木材款70020元；\n二、被告新疆苏建建工股份有限公司对上述70020元承担连带清偿责任。\n如果未按本判决指定的期间履行给付金钱义务，应当依照《中华人民共和国民事诉讼法》第二百五十三条之规定，加倍支付迟延履行期间的债务利息。\n案件争议标的数额为72758元。案件受理费1618元，减半收取809元，投递费150元，合计959元（原告已预交），由被告张荣负担480元，被告新疆苏建建工股份有限公司负担479元。\n如不服本判决，可在判决书送达之日起十五日内，向本院递交上诉状，并按对方当事人的人数提出副本，上诉于塔城地区中级人民法院。如上诉，可在上诉期满之日起七日内预交二审案件受理费，逾期则按自动撤回上诉处理。\n审判员 黄宝珠\n二�一四年九月二十九日\n书记员 黄源乐\n额敏县人民法院法律文书附页\n本判决书所引用的法律、司法解释条文为：\n《中华人民共和国民事诉讼法》：\n第一百四十二条法庭辩论终结，应当依法作出判决。判决前能够调解的，还可以进行调解，调解不成的，应当及时判决。\n《中华人民共和国合同法》：\n第一百三十条买卖合同是出卖人转移标的物的所有权于买受人，买受人支付价款的合同。\n第一百五十九条买受人应当按照约定的数额支付价款。对价款没有约定或者约定不明确的，适用本法第六十一条、第六十二条第二项的规定。\n\n公 告\n    一、本裁判文书由本院录入和审核，并依据法律与审判公开的原则予以公开。若有关当事人对相关信息有异议，可向本院书面申请更正或者下镜。\n    二、本公告提供的信息仅供查询人参考，内容以正式文本为准。非法使用本裁判文书信息对他人造成损害的，由非法使用人承担法律责任。\n    三、本裁判文书信息为免费信息，严禁任何单位和个人利用本裁判文书信息牟取非法利益。\n    四、未经许可，任何商业性网站不得建立与本裁判文书及其内容的链接，不得建立本裁判文书的镜像（包括全部和局部镜像），不得拷贝或传播本裁判文书及信息。\",\"totalAmountInvolved\":\"70020.00\",\"trialProcedure\":\"一审\",\"win\":null,\"deduplicated\":null,\"createdDate\":\"2016-09-05 17:18:34\",\"status\":\"0\",\"reason\":null,\"updatedDate\":\"2016-09-05 17:18:34\",\"expiryDate\":\"2016-09-05 18:29:11\"},\"litigationCrawledData\":{\"id\":\"80591\",\"sourceUrlId\":\"305\",\"contentUrl\":\"http://www.emxfy.com/ShowJudgment.asp?id=1248\",\"data\":\"黄怀斌与新疆苏建建工股份有限公司、袁志强、张荣买卖合同纠纷一审民事判决书\r\n黄怀斌与新疆苏建建工股份有限公司、袁志强、张荣买卖合同纠纷一审民事判决书\r\n提交日期：2015年08月27日22时39分\r\n\r\n\r\n新疆维吾尔自治区额敏县人民法院\r\n民 事 判 决 书\r\n（2014）额民一初字第608号\r\n原告：黄怀斌，男，1942年2月15日出生，汉族，住额敏县。\r\n委托代理人：耿新龙，额敏县国银法律服务所法律工作者。\r\n被告：新疆苏建建工股份有限公司，住所地：乌鲁木齐经济技术开发区。\r\n负责人：孙君伟，系该公司经理。\r\n委托代理人：张忠，新疆西陲律师事务所律师。\r\n委托代理人：黄远林，男，1968年3月23日出生，新疆苏建建工股份有限公司额敏分公司经理，住额敏县。\r\n被告：袁志强，男，1971年10月27日出生，汉族，建筑个体，现住农九师。\r\n被告：张荣，男，1969年7月12日出生，汉族，个体，住农九师。\r\n原告黄怀斌与被告新疆苏建建工股份有限公司（以下简称苏建公司）买卖合同纠纷一案，本院于2014年6月9日立案受理后，依法由审判员黄宝珠适用简易程序于2014年7月7日公开开庭进行了审理，因需追加张荣参加诉讼延期审理，于2014年9月16日继续公开开庭进行了审理。原告黄怀斌及其委托代理人耿新龙、被告苏建公司的委托代理人张忠、黄远林、被告袁志强、张荣到庭参加诉讼。本案现已审理完毕。\r\n原告黄怀斌诉称，2012年5月至9月期间，被告在兴建额敏县清真寺时在原告处赊购木材共计120020元，当时被告向原告承诺过段时间付款，经原告多次催要，被告只给付50000元，尚欠木材款70020元。后原告多次向被告索要余款，被告一直以种种理由推拖至今。为维护原告合法权益，故提起诉讼请求判令：1、被告苏建公司和张荣偿还欠款70020元；2、被告承担本案诉讼费及其他一切费用。\r\n被告苏建公司辩称，被告不承担给付责任。额敏县清真寺工程是塔城刚坚公司开发，与被告签订了工程合同，被告是承建方，张荣是被告承建的清真寺的项目经理，被告又将工程以内部分包的形式转包给张荣，袁志强与顾建江都是张荣聘的工作人员，刚开始由被告在施工，后张荣离开后，工程仍然用被告的名义在建，但实际负责人是顾建江，且本案原告的木材也是顾江建购买的，第一笔5万元木材款也是顾江建支付的，木材款也应属于工程款的一部分，故原告的木材款应当由顾江建或是刚坚公司支付。\r\n被告袁志强辩称，我是张荣和孟志刚聘请的清真寺项目的负责人，当时被告和张荣一起到原告的木材厂，张荣和孟志刚当时是合作关系，当时口头协议被告在原告处购买材料，以被告的签字为准。我签字购买的木材都用在了清真寺，所以木材款应当由苏建公司清真寺项目部支付。\r\n被告张荣辩称，清真寺项目，是被告苏建公司承建的工程，发包给被告的，袁志强和顾江建都是被告聘的工作人员，袁志强和顾江建认可的票据，被告就认可。该工程刚开始是被告在承建，后2012年7月份被告离开工地，将工地交给顾建江和袁志强负责，工程一直以苏建公司的名义在承建，现在工程已经完工了，被告没有拿到一分钱，工程款应该从塔城刚坚公司结算，但刚坚公司说苏建公司没有参与管理，不给支付工程款。顾江建已经从清真寺领取了250万元工程款，被告没有拿工程款，所以不承担原告的木材款。\r\n经审理查明，2012年5月15日，被告苏建公司（乙方）与塔城地区刚坚房地产开发有限公司（甲方）签订《额敏县维族清真寺施工协议》。同日，苏建公司与被告张荣因上述清真寺工程项目签订内部承包经营管理协议，约定苏建公司授权张荣在该公司资质的经营范围内进行施工承包活动，张荣向苏建公司缴纳管理费等内容。张荣系苏建公司清真寺项目部管理人员。2012年5月10日，张荣聘请袁志强为清真寺项目现场负责人。张荣认可袁志强出具的黄胜木材厂所签的欠条及额敏县正泰电器所签的电器清单的行为系履行职务行为。2012年5月16日至2012年8月5日期间，袁志强在原告处购买木材共计120020元。2012年12月期间，原告在清真寺项目部收到5万元木材款。剩余木材款，原告至今未收到，遂将被告起诉至本院。\r\n本院认为，被告袁志强购买原告木材120020元是事实，有被告袁志强向原告出具的欠条为证，且双方对该事实均无异议，本院予以确认。原告认可已收取5万元木材款，应当扣除。本案争议焦点为剩余涉案木材款应由谁支付。被告苏建公司承包清真寺工程后，以内部承包形式将该工程包给被告张荣。张荣聘请袁志强为清真寺项目现场负责人，且认可袁志强出具的欠条为职务行为。故袁志强与原告之间的木材买卖合同所欠的债务，应由内部承包人张荣承担，承包企业苏建公司对此债务承担连带清偿责任。据此，依照《中华人民共和国合同法》第一百三十条、第一百五十九条、《中华人民共和国民事诉讼法》第一百四十二条的规定，判决如下：\r\n一、被告张荣于本判决生效之日一次性支付原告黄怀斌木材款70020元；\r\n二、被告新疆苏建建工股份有限公司对上述70020元承担连带清偿责任。\r\n如果未按本判决指定的期间履行给付金钱义务，应当依照《中华人民共和国民事诉讼法》第二百五十三条之规定，加倍支付迟延履行期间的债务利息。\r\n案件争议标的数额为72758元。案件受理费1618元，减半收取809元，投递费150元，合计959元（原告已预交），由被告张荣负担480元，被告新疆苏建建工股份有限公司负担479元。\r\n如不服本判决，可在判决书送达之日起十五日内，向本院递交上诉状，并按对方当事人的人数提出副本，上诉于塔城地区中级人民法院。如上诉，可在上诉期满之日起七日内预交二审案件受理费，逾期则按自动撤回上诉处理。\r\n审判员 黄宝珠\r\n二�一四年九月二十九日\r\n书记员 黄源乐\r\n额敏县人民法院法律文书附页\r\n本判决书所引用的法律、司法解释条文为：\r\n《中华人民共和国民事诉讼法》：\r\n第一百四十二条法庭辩论终结，应当依法作出判决。判决前能够调解的，还可以进行调解，调解不成的，应当及时判决。\r\n《中华人民共和国合同法》：\r\n第一百三十条买卖合同是出卖人转移标的物的所有权于买受人，买受人支付价款的合同。\r\n第一百五十九条买受人应当按照约定的数额支付价款。对价款没有约定或者约定不明确的，适用本法第六十一条、第六十二条第二项的规定。\r\n\r\n公 告\r\n    一、本裁判文书由本院录入和审核，并依据法律与审判公开的原则予以公开。若有关当事人对相关信息有异议，可向本院书面申请更正或者下镜。\r\n    二、本公告提供的信息仅供查询人参考，内容以正式文本为准。非法使用本裁判文书信息对他人造成损害的，由非法使用人承担法律责任。\r\n    三、本裁判文书信息为免费信息，严禁任何单位和个人利用本裁判文书信息牟取非法利益。\r\n    四、未经许可，任何商业性网站不得建立与本裁判文书及其内容的链接，不得建立本裁判文书的镜像（包括全部和局部镜像），不得拷贝或传播本裁判文书及信息。\",\"title\":\"黄怀斌与新疆苏建建工股份有限公司、袁志强、张荣买卖合同纠纷一审民事判决书\",\"publishDate\":null,\"createdDate\":\"2016-08-17 16:33:18\"},\"litigationPartyList\":[{\"id\":\"420246\",\"parsedDataDetailId\":\"278678\",\"name\":\"黄怀斌\",\"partyCategoryId\":\"1\",\"legalRepresentative\":null,\"organizationCode\":null,\"identificationNumber\":null,\"dateOfBirth\":\"1942-02-15\",\"address\":null,\"organizationName\":null,\"amountInvolved\":\"70020.0\",\"amountToBeExecuted\":null,\"updatedDate\":\"2016-09-05 18:05:28\",\"accuseDate\":\"2014-09-29 00:00:00\"}]}]}";
		LitigationAPIPojos pojo = gson.fromJson(json, LitigationAPIPojos.class);
		System.out.println(pojo.getData().get(0).getLitigationCrawledData().getData());
	}

}
